#include <iostream>
#include <stack>

using namespace std;

int factorial(int, stack<int>);
void printStack(stack<int>);

int main () {
    int num, result;    
    
    cout << "Enter a number: ";
    cin >> num;
    
    stack<int> callStack;
    
    cout << endl;
    result = factorial(num, callStack);
    
    cout << endl << "Result: " << result << endl;
    
    return 0;
}

int factorial (int n, stack<int> cS) {
    cS.push(n);
    printStack(cS);
    if (n <= 1) {
        printStack(cS);
        cS.pop();
        return 1;
    }
    else {
        int x = n * factorial(n-1, cS);
        printStack(cS);
        cS.pop();
        return x;
    }
}

void printStack(stack<int> cS) {
    int x = cS.top();
        cout << "Call Stack" << endl;
        cout << "=========" << endl;
    while (!cS.empty()) {
        cout << "Fact: " << cS.top() << endl;
        cS.pop();
    }
    for (int i = x; x > 0; x--) {
        cS.push(i);
    }
    cout << "=========" << endl;
    cout << endl;
}
