#include <iostream>
#include <stack>

using namespace std;

int factorial(int, stack<int>);

int main () {

    int num, result;
    
    cout << "Enter a number: ";
    cin >> num;
    
    stack<int> callStack;

    result = factorial(num, callStack);
    
    cout << endl << "Result: " << result << endl;

    return 0;

}

int factorial (int n, stack<int> cS) {
    //cout << n << endl;
    cS.push(n);
    for (int i = cS.top(); i > 0; i--) {
        cout << "Fact: " << i << endl;
    }
    cout << endl;
    //cout << "Fact: " << cS.top() << endl;
    if (n <= 1) {
        //cout << n << endl;
        cout << "Fact: " << cS.top() << endl;
        cS.pop();
        return 1;
    }
    else {
        int x = n * factorial(n-1, cS);
        //cout << n << endl;
        //cout << "Fact: " << cS.top() << endl;
        for (int i = cS.top(); i > 0; i--) {
            cout << "Fact: " << i << endl;
        }
        cout << endl;
        cS.pop();
        return x;
    }
}
