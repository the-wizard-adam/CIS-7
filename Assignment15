#include <iostream>
#include <string>
#include <vector>

using namespace std;

void printSets(vector<string>, vector<string>);
void unionAB(vector<string>, vector<string>);
void intersectAB(vector<string>, vector<string>);
void sub(vector<string>, vector<string>);
void crossAB(vector<string>, vector<string>);
void powersetA(vector<string>, vector<string>);
void powersetB(vector<string>, vector<string>);
char userChoice();

int main() {
    
    vector<string> A;
    vector<string> B;
    char cont;
    string x;
    
    //DEBUG
    A = {"1", "2", "3"};
    B = {"2", "3", "4"};
    
    while(cont != 'n' && cont != 'N') {
        printSets(A, B);
        switch (userChoice()) {
            case '1':
                cout << "Add Item to A: ";
                cin >> x;
                A.push_back(x);
                break;
            case '2':
                cout << "Add Item to B: ";
                cin >> x;
                B.push_back(x);
                break;
            case '3':
                unionAB(A, B);
                break;
            case '4':
                intersectAB(A, B);
                break;
            case '5':
                sub(A, B);
                break;
            case '6':
                sub(B, A);
                break;
            case '7':
                crossAB(A, B);
                break;
            case '8':
                
                break;
            case '9':
            
                break;
            case '0':
            
                break;
            default:
                cout << "Error";
                break;
        }
        printSets(A, B);
        cout << "\n\n";
        do {
            cout << "Continue? Y/N: ";
            cin >> cont;
            if (cont != 'n' && cont != 'N' && cont != 'y' && cont != 'Y') {
                cout << "Error. ";
            }
        } while (cont != 'n' && cont != 'N' && cont != 'y' && cont != 'Y');
        cout << "\n";
    }
    
    return 0;
}

void printSets(vector<string> a, vector<string> b) {
    cout << "Set A = {";
    if (a.empty() == true) {
        cout << "";
    }
    else {
        for(auto element: a){
            cout << "{";
            cout << element;
            cout << "}";
        }
    }
    cout << "}\n";
    
    cout << "Set B = {";
    if (b.empty() == true) {
        cout << "";
    }
    else {
        for(auto element: b){
            cout << "{";
            cout << element;
            cout << "}";
        }
    }
    cout << "}\n\n";
}

char userChoice () {
    char choice;
    
    cout << "1 : Add Item to A\n"
         << "2 : Add Item to B\n"
         << "3 : A U B\n"
         << "4 : A ^ B\n"
         << "5 : A - B\n"
         << "6 : B - A\n"
         << "7 : A X B\n"
         << "8 : Powerset of A\n"
         << "9 : Powerset of B\n\n";
             
    cin >> choice;
    
    return choice;
}

void unionAB(vector<string> a, vector<string> b) {
    cout << "\nA U B: {";
    for (auto element: a) {
        cout << "{" << element << "}";
    }
    for (auto element: b) {
        cout << "{" << element << "}";
    }
    cout << "}\n\n";
}

void intersectAB(vector<string> a, vector<string> b) {
    cout << "\nA ^ B: {";
    for (auto elementA: a) {
        for (auto elementB: b) {
            if (elementA == elementB) {
                cout << "{" << elementA << "}";
            }
        }
    }
    cout << "}\n\n";
}

void sub(vector<string> a, vector<string> b) {
    cout << "\nA - B: {";
    for (auto elementA: a) {
        for (auto elementB: b) {
            if (elementA != elementB) {
                cout << "{" << elementA << "}";
            }
        }
    }
    cout << "}\n\n";
}

void crossAB(vector<string> a, vector<string> b) {
    cout << "\nA X B: {";
    for (auto elementA: a) {
        cout << "{(" << elementA << ")";
        for (auto elementB: b) {
            cout << "(" << elementB << ")";
        }
        cout << "}";
    }
    cout << "}\n\n";
}


